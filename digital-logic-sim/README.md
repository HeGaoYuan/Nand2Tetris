# 数字逻辑仿真器

一个基于Web的数字逻辑电路仿真器,灵感来自于"计算机要素:从零搭建计算机"课程。

## 项目简介

这个项目允许你从最基础的逻辑门(NAND门、DFF触发器)开始,通过可视化的方式搭建复杂的数字电路,最终可以构建一个简单的16位计算机。

## 功能特性

- **基础逻辑门**: NAND、NOT、AND、OR、XOR、MUX、DFF
- **可视化编辑**: 拖拽式界面,直观操作
- **实时仿真**: 即时查看电路运行结果
- **自定义门**: 将复杂电路封装为新的逻辑门(开发中)
- **连线功能**: 连接不同门的输入输出(开发中)

## 技术栈

- **前端框架**: React 18 + TypeScript
- **状态管理**: Zustand
- **样式**: Tailwind CSS
- **构建工具**: Vite
- **拖拽**: 原生实现

## 快速开始

### 安装依赖

```bash
npm install
```

### 启动开发服务器

```bash
npm run dev
```

访问 http://localhost:5173 即可看到应用。

### 构建生产版本

```bash
npm run build
```

## 使用说明

1. **添加逻辑门**: 点击左侧面板中的逻辑门,会在画布中心添加该门
2. **移动逻辑门**: 按住鼠标拖动门即可移动位置
3. **设置输入**: 点击输入引脚上的按钮切换0/1值
4. **查看输出**: 输出会根据输入自动计算并显示
5. **执行仿真**: 点击顶部"执行一步"按钮运行一个时钟周期
6. **重置电路**: 点击"重置"按钮清空所有状态
7. **删除门**: 选中门后按Delete键删除

## 项目结构

```
src/
├── types/          # TypeScript类型定义
│   └── circuit.ts  # 电路相关类型
├── engine/         # 仿真引擎
│   ├── gates.ts    # 基础逻辑门定义
│   └── simulator.ts # 仿真器核心逻辑
├── store/          # 状态管理
│   └── circuitStore.ts # Zustand状态管理
├── components/     # UI组件
│   ├── GateComponent.tsx  # 逻辑门组件
│   ├── Palette.tsx        # 左侧组件面板
│   ├── Canvas.tsx         # 画布区域
│   └── Toolbar.tsx        # 顶部工具栏
└── App.tsx         # 主应用
```

## 核心概念

### 基础逻辑门

- **NAND**: 与非门,所有其他门都可以由它构建
- **DFF**: D触发器,时序电路的基础,用于存储状态
- **NOT**: 非门
- **AND**: 与门
- **OR**: 或门
- **XOR**: 异或门
- **MUX**: 多路复用器

### 仿真引擎

仿真器采用拓扑排序算法确定门的计算顺序,支持:
- 组合逻辑仿真
- 时序逻辑仿真(DFF)
- 循环依赖检测

## 待开发功能

- [ ] 连线功能 - 连接门之间的输入输出
- [ ] 自定义门保存 - 将电路封装为新的可复用组件
- [ ] 多位总线支持 - 支持16位、32位等多位信号
- [ ] 电路导入导出 - 保存和加载电路设计
- [ ] 更多内置组件 - ALU、寄存器、计数器等
- [ ] 测试框架 - 自动化测试电路逻辑

## 贡献

欢迎提交Issue和Pull Request!

## 许可证

MIT
